<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Marker-based AR Solar System</title>
    <script src="https://aframe.io/releases/1.4.2/aframe.min.js"></script>
    <script src="https://cdn.rawgit.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
    <style>
      body, html { margin: 0; padding: 0; overflow: hidden; }
      #infoBox {
        position: absolute;
        bottom: 10px;
        left: 50%;
        transform: translateX(-50%);
        background: rgba(0,0,0,0.85);
        color: white;
        padding: 15px;
        border-radius: 12px;
        width: 400px;
        text-align: center;
        font-family: Arial, sans-serif;
        font-size: 16px;
        display: none;
        box-shadow: 0 0 15px rgba(0,0,0,0.5);
      }
    </style>
  </head>
  <body>
    <div id="infoBox"></div>

    <a-scene embedded arjs="sourceType: webcam;">
      <a-marker preset="hiro">
        <!-- Container for whole solar system -->
        <a-entity id="solarSystem" position="0 0 0" scale="1 1 1" rotation="0 0 0">
          
          <!-- Sun -->
          <a-sphere id="sun" class="clickable"
            position="0 0.2 0" radius="0.5"
            material="src: url(texture/sun.jpg); emissive: #ffaa00; emissiveIntensity: 0.3"
            animation="property: rotation; to: 0 360 0; loop: true; dur: 6000">
          </a-sphere>

          <!-- Orbit rings -->
          <a-ring rotation="-90 0 0" radius-inner="1" radius-outer="1.01" color="lightblue" opacity="0.4"></a-ring>
          <a-ring rotation="-90 0 0" radius-inner="1.5" radius-outer="1.51" color="lightblue" opacity="0.4"></a-ring>
          <a-ring rotation="-90 0 0" radius-inner="2" radius-outer="2.01" color="lightblue" opacity="0.4"></a-ring>
          <a-ring rotation="-90 0 0" radius-inner="2.5" radius-outer="2.51" color="lightblue" opacity="0.4"></a-ring>
          <a-ring rotation="-90 0 0" radius-inner="3.5" radius-outer="3.51" color="lightblue" opacity="0.4"></a-ring>
          <a-ring rotation="-90 0 0" radius-inner="4.5" radius-outer="4.51" color="lightblue" opacity="0.4"></a-ring>
          <a-ring rotation="-90 0 0" radius-inner="5.5" radius-outer="5.51" color="lightblue" opacity="0.4"></a-ring>
          <a-ring rotation="-90 0 0" radius-inner="6.5" radius-outer="6.51" color="lightblue" opacity="0.4"></a-ring>
          <a-ring rotation="-90 0 0" radius-inner="7.5" radius-outer="7.51" color="lightblue" opacity="0.4"></a-ring>

          <!-- Mercury -->
          <a-entity animation="property: rotation; to: 0 360 0; loop: true; dur: 8000; easing: linear">
            <a-sphere id="mercury" class="clickable"
              position="0.8 0.2 0" radius="0.08"
              material="src: url(texture/mercury.jpg)"
              animation="property: rotation; to: 0 360 0; loop: true; dur: 4000">
            </a-sphere>
          </a-entity>

          <!-- Venus -->
          <a-entity animation="property: rotation; to: 0 360 0; loop: true; dur: 12000; easing: linear">
            <a-sphere id="venus" class="clickable"
              position="1.2 0.2 0" radius="0.1"
              material="src: url(texture/venus.jpg)"
              animation="property: rotation; to: 0 360 0; loop: true; dur: 4500">
            </a-sphere>
          </a-entity>

          <!-- Earth + Moon -->
          <a-entity animation="property: rotation; to: 0 360 0; loop: true; dur: 15000; easing: linear">
            <a-sphere id="earth" class="clickable"
              position="1.6 0.2 0" radius="0.12"
              material="src: url(texture/earth.jpg)"
              animation="property: rotation; to: 0 360 0; loop: true; dur: 5000">
            </a-sphere>
            <a-entity animation="property: rotation; to: 0 360 0; loop: true; dur: 5000; easing: linear">
              <a-sphere id="moon" class="clickable"
                position="0.3 0 0" radius="0.04"
                material="src: url(texture/moon.jpg)"
                animation="property: rotation; to: 0 360 0; loop: true; dur: 3000">
              </a-sphere>
            </a-entity>
          </a-entity>

          <!-- Mars -->
          <a-entity animation="property: rotation; to: 0 360 0; loop: true; dur: 18000; easing: linear">
            <a-sphere id="mars" class="clickable"
              position="2 0.2 0" radius="0.1"
              material="src: url(texture/mars.jpg)"
              animation="property: rotation; to: 0 360 0; loop: true; dur: 5000">
            </a-sphere>
          </a-entity>

          <!-- Jupiter -->
          <a-entity animation="property: rotation; to: 0 360 0; loop: true; dur: 25000; easing: linear">
            <a-sphere id="jupiter" class="clickable"
              position="2.6 0.3 0" radius="0.25"
              material="src: url(texture/jupiter.jpg)"
              animation="property: rotation; to: 0 360 0; loop: true; dur: 6000">
            </a-sphere>
          </a-entity>

          <!-- Saturn + Rings -->
          <a-entity animation="property: rotation; to: 0 360 0; loop: true; dur: 30000; easing: linear">
            <a-sphere id="saturn" class="clickable"
              position="3.2 0.3 0" radius="0.22"
              material="src: url(texture/saturn_map.jpg)"
              animation="property: rotation; to: 0 360 0; loop: true; dur: 6500">
            </a-sphere>
            <a-ring position="3.2 0.3 0" rotation="90 0 0"
              radius-inner="0.25" radius-outer="0.4"
              material="src: url(texture/saturn_ring.png); transparent: true">
            </a-ring>
          </a-entity>

          <!-- Uranus -->
          <a-entity animation="property: rotation; to: 0 360 0; loop: true; dur: 35000; easing: linear">
            <a-sphere id="uranus" class="clickable"
              position="3.8 0.3 0" radius="0.18"
              material="src: url(texture/uranus.jpg)"
              animation="property: rotation; to: 0 360 0; loop: true; dur: 7000">
            </a-sphere>
          </a-entity>

          <!-- Neptune -->
          <a-entity animation="property: rotation; to: 0 360 0; loop: true; dur: 40000; easing: linear">
            <a-sphere id="neptune" class="clickable"
              position="4.4 0.3 0" radius="0.18"
              material="src: url(texture/neptune.jpg)"
              animation="property: rotation; to: 0 360 0; loop: true; dur: 7500">
            </a-sphere>
          </a-entity>

          <!-- Pluto -->
          <a-entity animation="property: rotation; to: 0 360 0; loop: true; dur: 45000; easing: linear">
            <a-sphere id="pluto" class="clickable"
              position="5 0.3 0" radius="0.07"
              material="src: url(texture/pluto.jpg)"
              animation="property: rotation; to: 0 360 0; loop: true; dur: 8000">
            </a-sphere>
          </a-entity>

        </a-entity>
      </a-marker>
    </a-scene>

    <script>
      const infoBox = document.getElementById('infoBox');
      const solarSystem = document.getElementById('solarSystem');
      let scaleFactor = 1;
      let isDragging = false;
      let prevX = 0;

      const planets = {
        sun: "🌞 Sun: The star at the center of our Solar System. Trivia: It contains 99.8% of the Solar System’s total mass.",
        mercury: "☿ Mercury: The closest planet to the Sun. Trivia: A year on Mercury is only 88 Earth days long.",
        venus: "♀ Venus: The hottest planet in the Solar System. Trivia: Its thick atmosphere traps heat in a runaway greenhouse effect.",
        earth: "🌍 Earth: The only known planet with life. Trivia: About 71% of Earth’s surface is covered by water.",
        moon: "🌙 Moon: Earth’s natural satellite. Trivia: The same side of the Moon always faces Earth due to tidal locking.",
        mars: "♂ Mars: Known as the Red Planet. Trivia: Mars has the tallest volcano in the Solar System, Olympus Mons.",
        jupiter: "♃ Jupiter: The largest planet in the Solar System. Trivia: Its Great Red Spot is a giant storm that’s raged for at least 300 years.",
        saturn: "♄ Saturn: Famous for its icy rings. Trivia: Saturn could float in water because it’s mostly made of gas and has low density.",
        uranus: "♅ Uranus: A tilted blue-green planet. Trivia: It rotates on its side, making its seasons last over 20 years each.",
        neptune: "♆ Neptune: A windy and cold ice giant. Trivia: Winds on Neptune can reach speeds of up to 2,100 km/h.",
        pluto: "Pluto: A dwarf planet beyond Neptune. Trivia: It has five known moons, the largest being Charon."
      };

      function speak(text) {
        const utter = new SpeechSynthesisUtterance(text);
        utter.lang = 'en-US';
        speechSynthesis.cancel();
        speechSynthesis.speak(utter);
      }

      // Click planets to show info
      document.querySelectorAll(".clickable").forEach(sphere => {
        sphere.addEventListener("click", () => {
          const text = planets[sphere.id];
          if (text) {
            infoBox.innerText = text;
            infoBox.style.display = "block";
            speak(text);
          }
        });
      });

      // Hide info if clicking outside
      document.addEventListener('click', (e) => {
        if (!e.target.classList.contains('clickable')) {
          infoBox.style.display = 'none';
        }
      });

      // Mouse wheel zoom
      document.addEventListener("wheel", (event) => {
        if (event.deltaY < 0) {
          scaleFactor += 0.1;
        } else {
          scaleFactor -= 0.1;
        }
        scaleFactor = Math.max(0.3, Math.min(3, scaleFactor));
        solarSystem.setAttribute("scale", `${scaleFactor} ${scaleFactor} ${scaleFactor}`);
      });

      // Drag rotation
      document.addEventListener("mousedown", (e) => {
        isDragging = true;
        prevX = e.clientX;
      });
      document.addEventListener("mouseup", () => { isDragging = false; });
      document.addEventListener("mousemove", (e) => {
        if (isDragging) {
          let deltaX = e.clientX - prevX;
          prevX = e.clientX;
          let rotation = solarSystem.getAttribute("rotation");
          rotation.y += deltaX * 0.5;
          solarSystem.setAttribute("rotation", rotation);
        }
      });
    </script>
  </body>
</html>
